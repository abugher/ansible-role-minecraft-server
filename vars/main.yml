---
install_packages:
  - 'wget'
user_groups:
  - 'minecraft-server'
users:
  - 'minecraft-server'
create_files:
  - owner:                      'root'
    group:                      'root'
    mode:                       '0755'
    state:                      'directory'
    path:                       '/etc/minecraft-server'
  - owner:                      'root'
    group:                      'root'
    mode:                       '0644'
    state:                      'touch'
    path:                       '/etc/minecraft-server/version'
install_files:
  - owner:                      'root'
    group:                      'root'
    mode:                       '0755'
    src:                        'files/bin/minecraft-server'
    dest:                       '/usr/local/bin/minecraft-server'
  - owner:                      'root'
    group:                      'root'
    mode:                       '0755'
    src:                        'files/init.d/minecraft-server'
    dest:                       '/etc/init.d/minecraft-server'
  - owner:                      'root'
    group:                      'root'
    mode:                       '0755'
    src:                        'files/bin/minecraft-server-update'
    dest:                       '/usr/local/bin/minecraft-server-update'
  - owner:                      'root'
    group:                      'root'
    mode:                       '0644'
    src:                        'files/conf/server.properties'
    dest:                       '/etc/minecraft-server/server.properties'
  - owner:                      'root'
    group:                      'root'
    mode:                       '0644'
    src:                        'files/conf/permissions.json'
    path:                       '/etc/minecraft-server/permissions.json'
initialize_files:
  - owner:                      'root'
    group:                      'root'
    mode:                       '0644'
    src:                        'files/conf/version'
    path:                       '/etc/minecraft-server/version'
enable_services:
  - 'minecraft-server'
restart_services:
  - 'minecraft-server'
start_services:
  - 'minecraft-server'
